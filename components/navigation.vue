<template lang="pug">
.navigation
    nuxt-link.navigation__button(
        to="/"
        :class="{'navigation__button_active' : position === 0}"
        @click.native="position = 0"
    )
        svg(width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg")
            path(d="M10 0C4.49167 0 0 4.49167 0 10C0 15.5167 4.49167 20 10 20C15.5167 20 20 15.5167 20 10C20 4.49167 15.5167 0 10 0ZM14.9417 9.55833L12.9333 11.0167L13.7 13.375C13.8417 13.8333 13.6833 14.325 13.3 14.6C12.9167 14.8833 12.3917 14.8833 12.0083 14.6L10 13.1417L8 14.6C7.59 14.89 7.09833 14.8875 6.70833 14.6C6.325 14.325 6.15833 13.8333 6.30833 13.375L7.075 11.0167L5.06667 9.55833C4.88062 9.42132 4.74206 9.22958 4.67034 9.00994C4.59862 8.7903 4.59733 8.55374 4.66667 8.33333C4.81667 7.88333 5.23333 7.575 5.70833 7.575H8.19167L8.95833 5.21667C9.10833 4.75833 9.525 4.45833 10 4.45833H10.0083C10.4833 4.45833 10.9 4.75833 11.05 5.21667L11.8167 7.575H14.2917C14.775 7.575 15.1917 7.88333 15.3417 8.33333C15.4833 8.78333 15.325 9.275 14.9417 9.55833Z" :fill="position === 0 ? '#FECD3D' : '#9B9B9B'")
        .navigation__text Lobby
    nuxt-link.navigation__button(
        to="/tasks"
        :class="{'navigation__button_active' : position === 1}"
        @click.native="position = 1"
    )
        svg(width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg")
            path(d="M14.19 0H5.81C2.17 0 0 2.17 0 5.81V14.19C0 17.83 2.17 20 5.81 20H14.19C17.83 20 20 17.83 20 14.19V5.81C20 2.17 17.83 0 14.19 0ZM7.97 12.9L5.72 15.15C5.57 15.3 5.38 15.37 5.19 15.37C5 15.37 4.8 15.3 4.66 15.15L3.91 14.4C3.61 14.11 3.61 13.63 3.91 13.34C4.2 13.05 4.67 13.05 4.97 13.34L5.19 13.56L6.91 11.84C7.2 11.55 7.67 11.55 7.97 11.84C8.26 12.13 8.26 12.61 7.97 12.9ZM7.97 5.9L5.72 8.15C5.57 8.3 5.38 8.37 5.19 8.37C5 8.37 4.8 8.3 4.66 8.15L3.91 7.4C3.61 7.11 3.61 6.63 3.91 6.34C4.2 6.05 4.67 6.05 4.97 6.34L5.19 6.56L6.91 4.84C7.2 4.55 7.67 4.55 7.97 4.84C8.26 5.13 8.26 5.61 7.97 5.9ZM15.56 14.62H10.31C9.9 14.62 9.56 14.28 9.56 13.87C9.56 13.46 9.9 13.12 10.31 13.12H15.56C15.7589 13.12 15.9497 13.199 16.0903 13.3397C16.231 13.4803 16.31 13.6711 16.31 13.87C16.31 14.0689 16.231 14.2597 16.0903 14.4003C15.9497 14.541 15.7589 14.62 15.56 14.62ZM15.56 7.62H10.31C9.9 7.62 9.56 7.28 9.56 6.87C9.56 6.46 9.9 6.12 10.31 6.12H15.56C15.7589 6.12 15.9497 6.19902 16.0903 6.33967C16.231 6.48032 16.31 6.67109 16.31 6.87C16.31 7.06891 16.231 7.25968 16.0903 7.40033C15.9497 7.54098 15.7589 7.62 15.56 7.62Z" :fill="position === 1 ? '#FECD3D' : '#9B9B9B'")
        .navigation__text Tasks
    nuxt-link.navigation__button(
        to="/affilate"
        :class="{'navigation__button_active' : position === 2}"
        @click.native="position = 2"
    )
        svg(width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg")
            path(d="M5 7.8552H0.715481C0.322176 7.8552 0.0041841 8.17326 0 8.57083V19.2844C0 19.6819 0.322176 20 0.715481 20H5C5.39749 20 5.71548 19.6778 5.71548 19.2844V8.57083C5.71548 8.17326 5.39331 7.8552 5 7.8552ZM12.1423 0H7.85774C7.46444 0 7.14226 0.318058 7.14226 0.711446V19.2844C7.14226 19.6819 7.46444 20 7.85774 20H12.1423C12.5397 20 12.8577 19.6778 12.8577 19.2844V0.715631C12.8577 0.318058 12.5356 0 12.1423 0ZM19.2845 5.71249H15C14.6025 5.71249 14.2845 6.03055 14.2845 6.42812V19.2844C14.2845 19.6819 14.6067 20 15 20H19.2845C19.682 20 20 19.6778 20 19.2844V6.42812C20 6.03055 19.6778 5.71249 19.2845 5.71249Z" :fill="position === 2 ? '#FECD3D' : '#9B9B9B'")
        .navigation__text Affilate
    nuxt-link.navigation__button(
        to="/leaderboard"
        :class="{'navigation__button_active' : position === 3}"
        @click.native="position = 3"
    )
        svg(width="19" height="22" viewBox="0 0 19 22" fill="none" xmlns="http://www.w3.org/2000/svg")
            path(d="M11.7103 14.3862C11.7103 14.1848 11.5509 14.0616 11.3561 14.1122C11.3561 14.1122 10.4437 14.3494 9.77025 14.3494C9.09684 14.3494 8.1844 14.1122 8.1844 14.1122C7.98958 14.0616 7.83018 14.1848 7.83018 14.3862V15.4476C7.83047 15.5446 7.86913 15.6375 7.9377 15.7061C8.00627 15.7746 8.0992 15.8133 8.19618 15.8136H11.3443C11.4413 15.8133 11.5342 15.7746 11.6028 15.7061C11.6714 15.6375 11.71 15.5446 11.7103 15.4476V14.3862ZM15.3343 0.732146C15.3343 0.327851 15.0064 0 14.6022 0H4.93833C4.53404 0 4.20619 0.327851 4.20619 0.732146V6.77205C4.20619 8.66256 4.76848 10.3834 5.78944 11.6176C6.81714 12.8599 8.23092 13.5441 9.77025 13.5441C11.3096 13.5441 12.7233 12.86 13.751 11.6176C14.772 10.3834 15.3343 8.66256 15.3343 6.77205V0.732146ZM3.5096 8.23901C2.50775 7.8662 2.04642 7.00153 2.04642 5.56413V2.29399H3.40086V0.829775H1.31442C0.910052 0.829775 0.582275 1.15755 0.582275 1.56192V5.56405C0.582275 8.0056 1.75175 9.49286 3.90212 9.84026C3.72545 9.33219 3.59315 8.79619 3.5096 8.23901ZM4.93833 16.9118C4.53404 16.9118 4.20619 17.2396 4.20619 17.6439V21.2679C4.20619 21.6721 4.53404 22 4.93833 22H14.6022C15.0065 22 15.3344 21.6721 15.3344 21.2679V17.6439C15.3344 17.2396 15.0065 16.9118 14.6022 16.9118H4.93833ZM18.2261 0.829775H16.1396V2.29399H17.494V5.56405C17.494 7.00146 17.0327 7.86612 16.0308 8.23893C15.9473 8.79612 15.815 9.33219 15.6383 9.84026C17.7887 9.49286 18.9581 8.0056 18.9581 5.56405V1.56192C18.9582 1.15755 18.6304 0.829775 18.2261 0.829775Z" :fill="position === 3 ? '#FECD3D' : '#9B9B9B'")
        .navigation__text leaders
    nuxt-link.navigation__button(
        to="/more"
        :class="{'navigation__button_active' : position === 4}"
        @click.native="position = 4"
    )
        svg(width="20" height="6" viewBox="0 0 20 6" fill="none" xmlns="http://www.w3.org/2000/svg")
            path(path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 0.5C3.16304 0.5 3.79893 0.763392 4.26777 1.23223C4.73661 1.70107 5 2.33696 5 3C5 3.66304 4.73661 4.29893 4.26777 4.76777C3.79893 5.23661 3.16304 5.5 2.5 5.5C1.83696 5.5 1.20107 5.23661 0.732233 4.76777C0.263392 4.29893 0 3.66304 0 3C0 2.33696 0.263392 1.70107 0.732233 1.23223C1.20107 0.763392 1.83696 0.5 2.5 0.5ZM17.5 0.5C18.163 0.5 18.7989 0.763392 19.2678 1.23223C19.7366 1.70107 20 2.33696 20 3C20 3.66304 19.7366 4.29893 19.2678 4.76777C18.7989 5.23661 18.163 5.5 17.5 5.5C16.837 5.5 16.2011 5.23661 15.7322 4.76777C15.2634 4.29893 15 3.66304 15 3C15 2.33696 15.2634 1.70107 15.7322 1.23223C16.2011 0.763392 16.837 0.5 17.5 0.5ZM10.226 0.5C10.889 0.5 11.5249 0.763392 11.9938 1.23223C12.4626 1.70107 12.726 2.33696 12.726 3C12.726 3.66304 12.4626 4.29893 11.9938 4.76777C11.5249 5.23661 10.889 5.5 10.226 5.5C9.56296 5.5 8.92707 5.23661 8.45823 4.76777C7.98939 4.29893 7.726 3.66304 7.726 3C7.726 2.33696 7.98939 1.70107 8.45823 1.23223C8.92707 0.763392 9.56296 0.5 10.226 0.5Z" :fill="position === 4 ? '#FECD3D' : '#9B9B9B'")
        .navigation__text More
</template>

<script>

export default {
	data() {
		return {
            position: 0
		}
	},
    created() {
        if(this.$route.name === 'index') {
            this.position = 0
        }
        else if(this.$route.path.includes('tasks')) {
            this.position = 1
        }
        else if(this.$route.path.includes('affilate')) {
            this.position = 2
        }
        else if(this.$route.path.includes('leaderboard')) {
            this.position = 3
        }
        else if(this.$route.path.includes('more')) {
            this.position = 4
        }
    },
    watch: {
        $route(val) {
            if(val.name === 'index') {
                this.position = 0
            }
            else if(val.path.includes('tasks')) {
                this.position = 1
            }
            else if(val.path.includes('affilate')) {
                this.position = 2
            }
            else if(val.path.includes('leaderboard')) {
                this.position = 3
            }
            else if(val.path.includes('more')) {
                this.position = 4
            }
        }
    }
}

</script>

<style lang="scss" scoped>
.navigation {
	position: fixed;
    width: 100%;
    background: #1D262F;
    bottom: mobile-vw(0);
    left: 0;
    display: flex;
    padding: mobile-vw(26);
    gap: mobile-vw(36);
    z-index: 2;
    border-top: mobile-vw(1) solid #2A333C;

    &__button {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        position: relative;
        text-decoration: none;
        gap: mobile-vw(12);

        svg {
            min-width: mobile-vw(16);
            height: mobile-vw(20);
            transition: .5s ease;

            &::v-deep {
                path, rect {
                    transition: .5s ease;
                }
            }
        }
    }
    &__text {
        white-space: nowrap;
        display: block;
        color: #9B9B9B;
        transition: .5s ease;
        font-size: mobile-vw(12);
    }
}

.navigation__button_active {
    svg {
        filter: drop-shadow(0px 0px 9px rgba($color: #FECD3D, $alpha: .7));
    }

    .navigation__text {
        color: #fff;
        transition: .5s ease;
    }
}
</style>